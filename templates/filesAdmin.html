<!-- templates/filesAdmin.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <tr>
        <th><a href="{{ url_for('view_files', order_by='timestamp') }}">Sort by timestamp</a></th>
        <th><a href="{{ url_for('view_files', order_by='theme') }}">Sort by theme</a></th>
        <th><a href="{{ url_for('view_files', order_by='user.username') }}">Sort by author</a></th>
            <!-- Add other columns as needed -->
    </tr>
</head>
<body>
    <h1>Files</h1>
    <form action="{{ url_for('view_files') }}" method="get">
        <label for="theme_filter">Filter by Theme:</label>
        <select name="theme_filter" id="theme_filter">
            <option value="">All Themes</option>
            <option value="Coding" {% if theme_filter == 'Coding' %}selected{% endif %}>Coding</option>
            <!-- Добавьте аналогичные опции для других тем -->
        </select>
        
        <label for="start_date_filter">Start Date:</label>
        <input type="date" name="start_date_filter" value="{{ start_date_filter }}">
        
        <label for="end_date_filter">End Date:</label>
        <input type="date" name="end_date_filter" value="{{ end_date_filter }}">

        <button type="submit">Apply Filters</button>
    </form>
    <table>

        <thead>
            <tr>
                <th>Theme</th>
                <th>Discription</th>
                <th>File Name</th>
                <th>Timestamp</th>
                <th>Uploaded By</th>
                <th>Action</th>
                <th>Delete file</th>
            </tr>
        </thead>
            <tbody>
                {% for file in files %}
                    <tr>
                        <td>{{ file.theme }}</td>
                        <td>{{ file.comment }}</td>  <!-- Display the comment -->
                        <td>{{ file.name }}</td>
                        <td>{{ file.timestamp }}</td>
                        <td>{{ file.user.username }}</td>
                        
                        <td><a href="{{ url_for('download_file', filename=file.name) }}">Download</a></td>
                        <td><a href="{{ url_for('admin_delete_file', file_id=file.id) }}">Delete</a></td>
                    </tr>
                {% endfor %}
            </tbody>
    </table>
    <a href="{{ url_for('index') }}">Back to Home</a>
</body>
</html>


